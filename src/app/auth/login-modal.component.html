<p-dialog [(visible)]="visible" [modal]="true" [closable]="true" [dismissableMask]="true" [draggable]="false" [resizable]="false" [style]="{width: '90vw', maxWidth: '420px'}" (onHide)="close()" header="Sign in">
  <div class="login-content">
    <p class="muted">Sign in to unlock features like fastpass, saved history, and credits.</p>
    <div class="btns">
      @if (auth.hasAuth0()) {
        <button pButton type="button" label="Continue with Auth0" icon="pi pi-shield" class="p-button-text p-button-lg w-full" (click)="loginAuth0()"></button>
      }
      @if (auth.hasGoogle()) {
        <button pButton type="button" label="Continue with Google" icon="pi pi-google" class="p-button-text p-button-lg w-full google" (click)="loginGoogle()"></button>
      }
      @if (auth.hasDiscord()) {
        <button pButton type="button" label="Continue with Discord" icon="pi pi-discord" class="p-button-text p-button-lg w-full discord" (click)="loginDiscord()"></button>
      }
      @if (!auth.hasGoogle() && !auth.hasDiscord()) {
        <small class="p-text-secondary">OAuth is not configured. Set client IDs in environment and .env for backend.</small>
      }
    </div>
    <button pButton type="button" label="Maybe later" class="p-button-text w-full mt-3" (click)="close()"></button>
  </div>
</p-dialog>
